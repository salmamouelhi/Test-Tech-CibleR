(this.webpackJsonplive=this.webpackJsonplive||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),r=n(9),a=n.n(r),i=(n(30),n(5)),s=(n(31),n(12)),l=n(14),u=n(3),d=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},b={prod:"https://prod.cibler.io/",qa:"https://qa.cibler.io/",local:"http://localhost:8080/"},p={endpoint:b[d("endpoint")||"prod"],accessToken:"",customerId:318,inPageMode:!1},j=function(){return window.CiblerContext||{campaign:{}}},h=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,n,c,o,r,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j().endpoint,"/api/campaigns/search/template/687630512/318?campaignId=63080118")).then((function(e){if(e.ok&&200===e.status)return e.json()}));case 2:return(n=e.sent)||(n={id:0}),(null===(t=j().campaign)||void 0===t?void 0:t.id)!==n.id&&(window.CiblerContext=p),console.log(n),j().campaign=n,j().campaign.useGiftcode="true"===n.useGiftcode,c=document.querySelector("head"),(o=document.createElement("link")).setAttribute("href","https://cdn.cibler.io/campaigns/assets/".concat(n.id,"/mobile/style.css")),o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),c.appendChild(o),(r=document.querySelector("#ciblerDivRoot")).style.setProperty("--background",'url("'.concat(m("background",null,!0),'")')),r.style.setProperty("--backgroundValidation",'url("'.concat(m("backgroundValidation",null,!0),'")')),r.style.setProperty("--backgroundMobile",'url("'.concat(m("background"),'")')),r.style.setProperty("--backgroundMobileValidation",'url("'.concat(m("backgroundValidation"),'")')),r.style.setProperty("--backgroundColor",n.backgroundColor||"#283847"),r.style.setProperty("--buttonColor",n.buttonColor||"#E13A06"),r.style.setProperty("--inputBorderColor",n.inputBorderColor||"transparent"),r.style.setProperty("--buttonTextColor",n.buttonTextColor||"#fff"),r.style.setProperty("--buttonDisableColor",n.buttonDisableColor||"#E1E1E1"),r.style.setProperty("--textColor",n.textColor||"#fff"),e.next=27,fetch("".concat(j().endpoint,"/api/campaigns/formdatas/").concat(n.id)).then((function(e){if(e.ok&&200===e.status)return e.json()}));case 27:return a=e.sent,j().form=a,f(),e.abrupt("return",n);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){localStorage.setItem("CiblerContext_".concat(p.customerId),JSON.stringify(j()))};window.saveContext=f;var m=function(e,t,n){return"https://cdn.cibler.io/campaigns/assets/".concat(j().campaign.id,"/").concat(n?"desktop":"mobile","/").concat(e,".").concat(t||"png")},g=n(2),x=function(e){var t=e.behaviorId;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"center",style:{color:"black"},children:["Thanks for you answer, your behaviorId is ",t]}),Object(g.jsx)("div",{className:"right"})]})},O=n(15),v=(n(33),function(e){var t=e.onChange,n=e.id,c=e.label,o=e.value,r=(e.placeholder,e.type),a=e.children;return Object(g.jsxs)("div",{className:"formfield ".concat(r," ").concat(n),children:[Object(g.jsx)("span",{children:c||a}),Object(g.jsx)("input",{type:"number",value:o,id:n,onChange:function(e){return t(e.target.value,n)},placeholder:"Votre num\xe9ro de t\xe9lephone",className:"inputPhoneNumber"})]})}),y=(n(34),n(46)),C=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t){var n,c,o,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(j().endpoint,"/api/bienvenus/login?customerId=318"),c={phone:t,campaignId:63080118,customerId:318},o={Accept:"application/json","Content-Type":"application/json"},e.next=5,y.a.post(n,c,{headers:o});case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),o=n[0],r=n[1],a=Object(c.useState)(""),u=Object(i.a)(a,2),d=u[0],b=u[1],p=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t){var n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,C(o);case 3:n=e.sent,b(n.behaviorId);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{children:Object(g.jsxs)(O.a,{show:e.show,onHide:function(){e.setShow(!1),r(""),b("")},backdrop:"static",keyboard:!1,children:[Object(g.jsx)(O.a.Header,{className:"header",closeButton:!0,children:Object(g.jsx)(O.a.Title,{className:"title",children:"Welcome to CibleR "})}),Object(g.jsx)(O.a.Body,{children:Object(g.jsxs)("form",{onSubmit:p,children:[Object(g.jsx)(v,{id:"phoneId",value:o,onChange:r}),Object(g.jsx)("button",{type:"submit",className:"login-button",children:"Login"})]})}),Object(g.jsx)(O.a.Footer,{children:d&&Object(g.jsx)(x,{behaviorId:d})})]})})},k=function(e){e.setScreen;var t=Object(c.useState)(!1),n=Object(i.a)(t,2),o=n[0],r=n[1];return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"right",children:[Object(g.jsx)("button",{onClick:function(){r(!0)},children:"Je me connecte"}),Object(g.jsx)(w,{show:o,setShow:r})]})})};var S=function(){var e=Object(c.useState)("landing"),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(i.a)(a,2),l=s[0],m=s[1];o.a.useEffect((function(){j().endpoint||(!function(){try{var e=d("clearcache")?p:JSON.parse(localStorage.getItem("CiblerContext_".concat(p.customerId)));window.CiblerContext=Object(u.a)(Object(u.a)({},e||p),window.CiblerContext||{}),d("endpoint")&&(window.CiblerContext.endpoint=b[d("endpoint")])}catch(t){window.CiblerContext=p}}(),h().then((function(){m(!0)})))}));var O={landing:k,validation:x}[n];return Object(g.jsx)("div",{className:"appBackground",children:Object(g.jsx)("div",{className:"app ".concat(n),children:l&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(O,{setScreen:function(e){j().currentScreen=e,f(),r(e)}})})})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),r(e),a(e)}))};n(41);a.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(S,{})}),document.getElementById("ciblerDivRoot")),I()}},[[42,1,2]]]);
//# sourceMappingURL=main.f770fbd1.chunk.js.map